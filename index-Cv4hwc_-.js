(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const fe={pink:[253,237,237],gray:[225,225,225],red:[248,226,228],black:[195,195,195],orange:[255,247,235],yellow:[250,248,225],purple:[235,225,244],blue:[218,237,245],none:null},Le={dilute:[20,20,20],warmdilute:[25,15,7],cooldilute:[7,15,25],none:null},Q={tint_colours:fe,dilute_tint_colours:Le},me={darkcream:[236,229,208],cream:[247,241,225],offwhite:[238,249,252],gray:[208,225,229],pink:[254,248,249],none:null},j={tint_colours:me},Ae=["ONE","TWO","THREE","TAILSCAR","SNOUT","CHEEK","SIDE","THROAT","TAILBASE","BELLY","LEGBITE","NECKBITE","FACE","MANLEG","BRIGHTHEART","MANTAIL","BRIDGE","RIGHTBLIND","LEFTBLIND","BOTHBLIND","BEAKCHEEK","BEAKLOWER","CATBITE","RATBITE","QUILLCHUNK","QUILLSCRATCH","HINDLEG","BACK","QUILLSIDE","SCRATCHSIDE","BEAKSIDE","CATBITETWO","FOUR"],Ie=["LEFTEAR","RIGHTEAR","NOTAIL","HALFTAIL","NOPAW","NOLEFTEAR","NORIGHTEAR","NOEAR"],he=["SNAKE","TOETRAP","BURNPAWS","BURNTAIL","BURNBELLY","BURNRUMP","FROSTFACE","FROSTTAIL","FROSTMITT","FROSTSOCK","TOE","SNAKETWO","ROTMARKED","ROTRIDDEN","TOPSURGERY","CUTOPEN","LABRATFACE","VIVISECTION","LABRATCHEST","LABRATLIMBS","NEUTRINO","MANGLEDARM","ENVOYCHEST","HALFFACELEFT","FULLBODYBURNS","BESIEGED","HALFFACERIGHT","STARBURN","ARMBURN","DOUBLEBITE","DANGEROUS","SMOKINGFACE","NIBBLEDIDIOT","X-FACE","NIBBEDAGAIN","MESSIAH","EXTRACTIONTWO","RESTITCHEDUPPER","RESTITCHEDLOWER","STITCHEDHEAD","BURNTLEG","BURNTARM","VULTURESHOULDER","CHEEKCUT","MIROSNOM","ARTIRIGHT","ARTIGLOWRIGHT","ARTILEFT","ARTIGLOWLEFT","SPEARWOUND","PATCHWORK","BLIZZARDBLAST","TAIL","SHOULDER","EYE","ARM"],ve=["MAPLE LEAF","HOLLY","BLUE BERRIES","FORGET ME NOTS","RYE STALK","LAUREL","BLUEBELLS","NETTLE","POPPY","LAVENDER","HERBS","PETALS"],Ce=["RED FEATHERS","BLUE FEATHERS","JAY FEATHERS","MOTH WINGS","CICADA WINGS"],Be=["CRIMSON","BLUE","YELLOW","CYAN","RED","LIME","GREEN","RAINBOW","BLACK","SPIKES","WHITE","PINK","PURPLE","MULTI","INDIGO","CRIMSONBELL","BLUEBELL","YELLOWBELL","CYANBELL","REDBELL","LIMEBELL","GREENBELL","RAINBOWBELL","BLACKBELL","SPIKESBELL","WHITEBELL","PINKBELL","PURPLEBELL","MULTIBELL","INDIGOBELL","CRIMSONBOW","BLUEBOW","YELLOWBOW","CYANBOW","REDBOW","LIMEBOW","GREENBOW","RAINBOWBOW","BLACKBOW","SPIKESBOW","WHITEBOW","PINKBOW","PURPLEBOW","MULTIBOW","INDIGOBOW","CRIMSONNYLON","BLUENYLON","YELLOWNYLON","CYANNYLON","REDNYLON","LIMENYLON","GREENNYLON","RAINBOWNYLON","BLACKNYLON","SPIKESNYLON","WHITENYLON","PINKNYLON","PURPLENYLON","MULTINYLON","INDIGONYLON","BLUESKY"],M={scars1:Ae,scars2:Ie,scars3:he,plant_accessories:ve,wild_accessories:Ce,collars:Be};function Oe(t,e){return{url:`sprites/split/${t}_${e}.png`,x:0,y:0}}async function Te(t){return new Promise((e,n)=>{const o=new Image;o.src=t,o.addEventListener("load",()=>{e(o)}),o.addEventListener("error",()=>{n(`${t} doesn't seem to exist!`)})})}async function r(t,e,n){const o=Oe(t,e),s=await Te(o.url);n.drawImage(s,o.x,o.y,50,50,0,0,50,50)}async function X(t,e,n){if(t===null)return;const o=`rgb(${t[0]} ${t[1]} ${t[2]})`,s=new OffscreenCanvas(50,50),a=s.getContext("2d");a.drawImage(n.canvas,0,0),a.globalCompositeOperation="source-in",a.fillStyle=o,a.fillRect(0,0,50,50);const g=new OffscreenCanvas(50,50),E=g.getContext("2d");E.drawImage(n.canvas,0,0),E.globalCompositeOperation=e,E.drawImage(s,0,0);const i=n.globalCompositeOperation;n.globalCompositeOperation="source-in",n.drawImage(g,0,0),n.globalCompositeOperation=i}async function Re(t,e,n,o){const s=new OffscreenCanvas(50,50),a=s.getContext("2d");a!==null&&(await r(e,n,a),a.globalCompositeOperation="source-in",await r(t,n,a),o.drawImage(s,0,0))}async function ye(t,e){const n=new OffscreenCanvas(50,50),o=n.getContext("2d");if(o===null)return;o.drawImage(e.canvas,0,0),o.globalCompositeOperation="source-in",await r("shaders",t,o);const s=e.globalCompositeOperation;e.globalCompositeOperation="multiply",e.drawImage(n,0,0),e.globalCompositeOperation=s,await r("lighting",t,e)}async function we(t,e,n){const o=n.globalCompositeOperation;n.globalCompositeOperation="destination-in",await r(t,e,n);const s=new OffscreenCanvas(50,50),a=s.getContext("2d");a.drawImage(n.canvas,0,0),a.globalCompositeOperation="source-in",await r(t,e,a),n.globalCompositeOperation="multiply",n.drawImage(s,0,0),n.globalCompositeOperation=o}async function Ne(t,e,n,o=!1,s=!1,a=!1,g=!1){const E=new OffscreenCanvas(50,50),i=E.getContext("2d"),f=t.getContext("2d");if(!(i===null||f==null)){if(e.name!=="Tortie"&&e.name!=="Calico")await r(`${e.spritesName}${e.colour}`,n,i);else{await r(`${e.tortieBase}${e.colour}`,n,i);var P;e.tortiePattern=="Single"?P="SingleColour":P=e.tortiePattern,await Re(`${P}${e.tortieColour}`,`tortiemask${e.pattern}`,n,i)}if(e.tint!=="none"&&Object.keys(Q.tint_colours).includes(e.tint)){const l=e.tint;await X(Q.tint_colours[l],"multiply",i)}if(e.tint!=="none"&&Object.keys(Q.dilute_tint_colours).includes(e.tint)){const l=e.tint;await X(Q.dilute_tint_colours[l],"lighter",i)}if(e.whitePatches!==void 0){const l=new OffscreenCanvas(50,50),L=l.getContext("2d");if(await r(`white${e.whitePatches}`,n,L),e.whitePatchesTint!=="none"&&Object.keys(j.tint_colours).includes(e.whitePatchesTint)){const U=e.whitePatchesTint;await X(j.tint_colours[U],"multiply",L)}i.drawImage(l,0,0)}if(e.points!==void 0){const l=new OffscreenCanvas(50,50),L=l.getContext("2d");if(await r(`white${e.points}`,n,L),e.whitePatchesTint!=="none"&&Object.keys(j.tint_colours).includes(e.whitePatchesTint)){const U=e.whitePatchesTint;await X(j.tint_colours[U],"multiply",L)}i.drawImage(l,0,0)}if(e.vitiligo!==void 0&&await r(`white${e.vitiligo}`,n,i),await r(`eyes${e.eyeColour}`,n,i),e.eyeColour2!==void 0&&await r(`eyes2${e.eyeColour2}`,n,i),e.scars!==void 0)for(const l of e.scars)M.scars1.includes(l)&&await r(`scars${l}`,n,i),M.scars3.includes(l)&&await r(`scars${l}`,n,i);if(a&&await ye(n,i),g?o?s?await r("aprilfoolslineartdf",n,i):await r("aprilfoolslineartdead",n,i):await r("aprilfoolslineart",n,i):o?s?await r("lineartdf",n,i):await r("lineartdead",n,i):await r("lines",n,i),await r(`skin${e.skin}`,n,i),e.scars!==void 0)for(const l of e.scars)M.scars2.includes(l)&&await we(`scars${l}`,n,i);e.accessory!==void 0&&(M.plant_accessories.includes(e.accessory)?await r(`acc_herbs${e.accessory}`,n,i):M.wild_accessories.includes(e.accessory)?await r(`acc_wild${e.accessory}`,n,i):M.collars.includes(e.accessory)&&await r(`collars${e.accessory}`,n,i)),f.clearRect(0,0,t.width,t.height),e.reverse?(f.scale(-1,1),f.drawImage(E,-t.width,0),f.resetTransform()):f.drawImage(E,0,0)}}const le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAkklEQVRoge3U3Q6AIAiAUWm9/yvTVX8KDiW3Lr6ztSVpAzJLAQAAAAAAWEiC83RpFq1oXpctOlFVm/F51bH6/rnei9XzR4ULsYjcjVPV1/h8biVnxUSkWT8iVUhGpvuWTwuJJud1PlPcPr3S4G2lCd5L3L039EW8H7g33+t+He8dDJHm/PX49cyfBgAAAAAAABkHA8JZ1WXUY1oAAAAASUVORK5CYII=",Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAABfElEQVRoge2aSxqCMAyEyxFcedUeoVd15RFwpWJomjcGvs4KAwzz8yhtcVnXtVxBywRJpgmSTRMkm0wgtda1tbY45lFLDVJr/eyYAUYFsoUo5aQgEKIUHYj3FRWB9CBgGCrgyGO0HyU2CCcAFUjqIQFigWggYBAPj5FIEG0AGMLLB9MpQKBXT4eBQC8sGKdB6SkMxNqkYsfFfNOCYMdWg2CGlC4B4tll4cKEvBAvA4LJ2icb+YS+2TFJgFKDbEVBnQbkLUlPWQVyBIREh78Qo2QGabfHt/a8//x+1+B22zq2brQ9lLqv9dPJuz12B9nWIpa5EGKQT10RbHQiKBDzeIRzRSAcB7oH0vPhQriA9M42VceWd9t7jtmph70XpleHHpRPGMg/NEEw/QNG2lOeINEKASnFNm4/Ysyfdu43NYjUx73VkgbgBPH+vGAGaa0tmmnOlCCc9Rwvar+RzM1vBEjYFytuSO6Mh3bGfST1rcW59yUPu3V2cv7zIZte2ahDu0h3rfoAAAAASUVORK5CYII=",H={SingleColour:"single",TwoColour:"single",Tabby:"tabby",Marbled:"marbled",Rosette:"rosette",Smoke:"smoke",Ticked:"ticked",Speckled:"speckled",Bengal:"bengal",Mackerel:"mackerel",Classic:"classic",Sokoke:"sokoke",Agouti:"agouti",Singlestripe:"singlestripe",Masked:"masked",Tortie:"",Calico:"",Amazon:"amazon",Amoeba:"amoeba",Apple:"apple",Banana:"banana",Betta:"betta",Boba:"boba",Budgie:"budgie",Centipede:"centipede",Cherry:"cherry",Clay:"clay",Collared:"collared",Con:"con",Constellation:"constellation",Conure:"conure",Countershaded:"countershaded",CyanLizard:"cyanlizard",Daenix:"daenix",DarkEcho:"darkecho",Dragonet:"dragonet",Dragonfruit:"dragonfruit",Dreamer:"dreamer",Drizzle:"drizzle",Duskdawn:"duskdawn",Envoy:"envoy",Fire:"fire",Fizzy:"fizzy",Fluffy:"fluffy",Glitter:"glitter",Glowing:"glowing",Gravel:"gravel",Hypnotist:"hypnotist",Ice:"ice",Iggy:"iggy",Impish:"impish",Lantern:"lantern",Leafy:"leafy",Leviathan:"leviathan",LightEcho:"lightecho",Lizard:"lizard",Lovebird:"lovebird",Malibu:"malibu",Maned:"maned",Mold:"mold",Necklace:"necklace",Noble:"noble",OldGrowth:"oldgrowth",Patchwork:"patchwork",Pidgeon:"pidgeon",Plantain:"plantain",Ringed:"ringed",Robot:"robot",Rotten:"rotten",Rusted:"rusted",Salmon:"salmon",Scaled:"scaled",SeaSlug:"seaslug",Seer:"seer",Seltzer:"seltzer",Shred:"shred",Skeleton:"skeleton",Skinny:"skinny",SlimeMold:"slimemold",Solace:"solace",SparkleCat:"sparklecat",Sparse:"sparse",Spooky:"spooky",Sporty:"sporty",Sunken:"sunken",Sunset:"sunset",Swing:"swing",Sworn:"sworn",Tomo:"tomo",Vulture:"vulture",Watermelon:"watermelon",Whale:"whale",Wolf:"wolf",Yeek:"yeek"},W=document.getElementById("cat-sprite-img");W.src=le;const G=document.getElementById("sprite-no-select"),Y=document.getElementById("pelt-name-select"),x=document.getElementById("colour-select"),K=document.getElementById("tint-select"),z=document.getElementById("skin-colour-select"),_=document.getElementById("eye-colour-select"),S=document.getElementById("eye-colour2-select"),p=document.getElementById("accessory-select"),b=document.getElementById("scar-select"),h=document.getElementById("white-patches-select"),v=document.getElementById("points-select"),D=document.getElementById("white-patches-tint-select"),C=document.getElementById("vitiligo-select"),y=document.getElementById("tortie-mask-select"),w=document.getElementById("tortie-colour-select"),N=document.getElementById("tortie-pattern-select"),R=document.getElementById("lineart-select"),k=document.getElementById("tortie-checkbox"),J=document.getElementById("shading-checkbox"),F=document.getElementById("reverse-checkbox"),Z=document.getElementById("bg-color-select"),de=document.getElementById("zoom-level"),pe=document.getElementById("sharecode");function be(){return{shading:J.checked.toString(),reverse:F.checked.toString(),isTortie:k.checked.toString(),backgroundColour:Z.value,tortieMask:y.value,tortieColour:w.value,tortiePattern:N.value,peltName:Y.value,spriteNumber:G.value,colour:x.value,tint:K.value,skinColour:z.value,eyeColour:_.value,eyeColour2:S.value,whitePatches:h.value,points:v.value,whitePatchesTint:D.value,vitiligo:C.value,accessory:p.value,scar:b.value,version:"v1"}}function d(t,e){const n=t.options;for(var o=0;o<n.length;o++)n.item(o).value===e&&(t.selectedIndex=o)}function ke(t){t.version==="v1"&&(k.checked=t.isTortie==="true",J.checked=t.shading==="true",F.checked=t.reverse==="true",d(Z,t.backgroundColour),d(y,t.tortieMask),d(w,t.tortieColour),d(N,t.tortiePattern),d(Y,t.peltName),d(G,t.spriteNumber),d(x,t.colour),d(K,t.tint),d(z,t.skinColour),d(_,t.eyeColour),d(S,t.eyeColour2),d(h,t.whitePatches),d(v,t.points),d(D,t.whitePatchesTint),d(C,t.vitiligo),d(p,t.accessory),d(b,t.scar))}function ue(){const t=new URL(document.URL),e=new URLSearchParams(be());return new URL(`${t.origin}${t.pathname}?${e}`)}function Ee(){const t=new URLSearchParams(document.location.search),e={};for(const[n,o]of t.entries())e[n]=o;ke(e),c(!1)}function c(t=!0){const e=new OffscreenCanvas(50,50),n=e.getContext("2d");n&&n.clearRect(0,0,e.width,e.height);const o=Z.value,s=y.value,a=w.value,g=N.value,E=Y.value,i=Number(G.value),f=x.value,P=K.value,l=z.value,L=_.value,U=D.value,q=S.value===""?void 0:S.value,ee=h.value===""?void 0:h.value,te=v.value===""?void 0:v.value,ne=C.value===""?void 0:C.value,oe=p.value===""?void 0:p.value,ie=b.value===""?[]:[b.value],ge=J.checked,re=F.checked;var m;k.checked?m="Tortie":m=E,k.checked?(w.disabled=!1,y.disabled=!1,N.disabled=!1):(w.disabled=!0,y.disabled=!0,N.disabled=!0);var B=!1,O=!1,V=!1;R.value==="regular"?(B=!1,O=!1):R.value==="dead"?(B=!0,O=!1):R.value==="dark forest"?(B=!0,O=!0):R.value==="aprilfools-regular"?(B=!1,O=!1,V=!0):R.value==="aprilfools-dead"?(B=!0,O=!1,V=!0):R.value==="aprilfools-dark forest"&&(B=!0,O=!0,V=!0),pe.textContent=JSON.stringify({pelt_name:m,pelt_color:f,eye_colour:L,eye_colour2:q===void 0?null:q,reverse:re,white_patches:ee===void 0?null:ee,vitiligo:ne===void 0?null:ne,points:te===void 0?null:te,white_patches_tint:U,pattern:m==="Tortie"?s:null,tortie_base:m==="Tortie"?H[E]:null,tortie_pattern:m==="Tortie"?H[g]:null,tortie_color:m==="Tortie"?a:null,skin:l,tint:P,scars:ie,accessory:oe===void 0?[]:[oe]},void 0,4);const se=Number(de.value),$=se*50;W.width=$,W.height=$;var ae=!1;setTimeout(()=>{ae||(W.src=le)},200),Ne(e,{name:m,colour:f,skin:l,tint:P,whitePatchesTint:U,eyeColour:L,eyeColour2:q,whitePatches:ee,points:te,vitiligo:ne,spritesName:H[E],accessory:oe,scars:ie,reverse:re,tortieBase:H[E],pattern:s,tortiePattern:H[g],tortieColour:a},i,B,O,ge,V).then(()=>{const A=new OffscreenCanvas($,$),T=A.getContext("2d");return T.imageSmoothingEnabled=!1,T.fillStyle=o,T.fillRect(0,0,A.width,A.height),T.scale(se,se),T.drawImage(e,0,0),A.convertToBlob()}).then(A=>{if(ae=!0,W.src=URL.createObjectURL(A),t){const T=ue().toString();history.pushState(null,"",T)}}).catch(A=>{ae=!0,W.src=Se,console.error(A)})}function u(t){const e=t.options;e.selectedIndex=Math.floor(e.length*Math.random())}const Pe=document.getElementsByClassName("random-button");for(const t of Pe)t.addEventListener("click",e=>{e.preventDefault();const n=t.dataset.selectId;if(!n)return;const o=document.getElementById(n);u(o),c()});k.addEventListener("change",()=>{c()});w.addEventListener("change",()=>c());y.addEventListener("change",()=>c());N.addEventListener("change",()=>c());G.addEventListener("change",()=>c());Y.addEventListener("change",()=>c());x.addEventListener("change",()=>c());K.addEventListener("change",()=>c());z.addEventListener("change",()=>c());_.addEventListener("change",()=>c());S.addEventListener("change",()=>c());h.addEventListener("change",()=>c());v.addEventListener("change",()=>c());D.addEventListener("change",()=>c());C.addEventListener("change",()=>c());p.addEventListener("change",()=>c());b.addEventListener("change",()=>c());R.addEventListener("change",()=>c());J.addEventListener("change",()=>c());F.addEventListener("change",()=>c());Z.addEventListener("change",()=>c());de.addEventListener("change",()=>c());var ce;(ce=document.getElementById("randomize-all-button"))==null||ce.addEventListener("click",t=>{t.preventDefault(),u(G),u(Y),u(x),u(N),u(w),u(y),Math.random()<=.5?k.checked=!0:k.checked=!1,u(K),u(_),Math.random()<=.5?u(S):S.selectedIndex=0,u(z),Math.random()<=.5?(Math.random()<=.5?u(h):h.selectedIndex=0,Math.random()<=.5?u(v):v.selectedIndex=0,u(D),Math.random()<=.5?u(C):C.selectedIndex=0):(D.selectedIndex=0,h.selectedIndex=0,v.selectedIndex=0,C.selectedIndex=0),Math.random()<=.5?u(p):p.selectedIndex=0,Math.random()<=.5?u(b):b.selectedIndex=0,Math.random()<=.5?F.checked=!0:F.checked=!1,c()});const I=document.getElementById("copy-url-button");"clipboard"in navigator?I==null||I.addEventListener("click",t=>{t.preventDefault(),navigator.clipboard.writeText(ue().toString()).then(()=>{I.textContent="Copied!",setTimeout(()=>{I.textContent="Copy this cat's URL"},1250)})}):I==null||I.classList.add("hidden");addEventListener("popstate",()=>{Ee()});Ee();
//# sourceMappingURL=index-Cv4hwc_-.js.map
